<% resource = wa_resource.activity_object.object
	className = resource.class.to_s
	classNameUnderscore = className.underscore
	classNameTableize = className.tableize
	hasWorkshopPartial = lookup_context.template_exists?("#{classNameUnderscore}_workshop_show", classNameTableize, true)
	hasMinifiedPartial = lookup_context.template_exists?("#{classNameUnderscore}_workshop_mini_show", classNameTableize, true)
%>

<div class="wa_resource_wrapper wa_activity_open">

	<% unless className == "Excursion" %>
		<%= render partial: 'wa_resources/corner_resource', locals: { resource: resource} %>
	<% end %>

	<div class="resource_mini_description">
		<% if hasMinifiedPartial %>
			<%= render partial: "#{ classNameTableize }/#{classNameUnderscore}_workshop_mini_show", locals:  { classNameUnderscore.to_sym => resource, :prefix_id => "wa_resource" }  %>
		<% else %>
			<%= resource.title %>
		<%end%>
	</div>

	<% if hasWorkshopPartial %>
		<%= render partial: "#{ classNameTableize }/#{classNameUnderscore}_workshop_show", locals:  { classNameUnderscore.to_sym => resource, :prefix_id => "wa_resource" }  %>
	<% else %>
		<%= render partial: "#{ classNameTableize }/#{ classNameUnderscore }_show", locals:  { classNameUnderscore.to_sym => resource, :prefix_id => "wa_resource" }  %>
	<% end %>
</div>